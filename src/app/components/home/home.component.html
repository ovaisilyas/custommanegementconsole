<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>

<app-header></app-header>
<div class="container-fluid PageContWrap homePageCont">
  <div class="row">
    <div class="col-lg-9">
      <div class="tab-content" id="nav-tabContent">
       
          <div class="homeHeader"><h5>Recent Purchases</h5>
            <div class="float-right moreIcon">
              <a href="#" data-target="#recentPurchase" data-toggle="modal" role="button" (click)="getPurchaseHistory()">
              <span></span>
              <span></span>
              <span></span>
            </a>
        </div></div>
          <div class="homePurchaseGrid table-responsive">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th scope="col">Customer</th>
                  <th scope="col">Purchase Value</th>
                  <th scope="col">Order Details</th>
              </thead>
              <tbody>
                <tr *ngFor="let item of recentPurchaseList">
                  <td scope="row">{{item.LogonName}}</td>
                  <td>{{item.PurchaseValue}}</td>
                  <td><a data-target="#orderDetails" data-toggle="modal" role="button" (click)="getOrderDetails(item.OrderId)" href="javascript:void(0)">{{item.OrderId}}</a></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div><h5>Store Sales Summary</h5></div>
          <div class="homeStoreGrid table-responsive">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th scope="col">&nbsp;</th>
                  <th scope="col">Value ($)</th>
              </thead>
              <tbody>
                <tr *ngFor="let item of salesSummary">
                  <td scope="row" class="text-capitalize">{{item.identifier | lowercase}}</td>
                  <td>{{item.price}}</td>               
                </tr>
              </tbody>
            </table>
          </div>
          <!-- Modal Recent Purchase-->
          <div class="modal fade homeRecentModal" id="recentPurchase" tabindex="-1" role="dialog" aria-labelledby="recentPurchase" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title"><span>Recent Purchases</span></h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                  </button>
                </div>
                <div class="modal-body">
                    <div class="homePurchaseGrid table-responsive">
                        <table class="table table-bordered table-striped">
                          <thead>
                            <tr>
                              <th scope="col">Customer</th>
                              <th scope="col">Purchase Value</th>
                              <th scope="col">Order Details</th>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of purchaseHistory">
                              <td scope="row">{{item.LogonName}}</td>
                              <td>{{item.PurchaseValue}}</td>
                              <td><a data-target="#orderDetails" data-toggle="modal" role="button" (click)="getOrderDetails(item.OrderId)" href="javascript:void(0)">{{item.OrderId}}</a></td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                </div>
              </div>
            </div>
          </div>
           <!-- Modal Order Details-->
          <div class="modal fade homeOrderDetailsModal" id="orderDetails" tabindex="-1" role="dialog" aria-labelledby="recentPurchase" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title"><span>Order Details</span></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">×</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="orderDetailsView">
                        <div class="row">
                        <div class="col-sm-5"><label>Order Number</label></div>
                        <div class="col-sm-7"><span>7583311</span></div>
                        </div>
                        <div class="row">
                            <div class="col-sm-5"><label>Order Date</label></div>
                            <div class="col-sm-7"><span>August 30, 2017</span></div>
                        </div>
                        <div class="row">
                          <div class="col-sm-5"><label>Shipping Address</label></div>
                          <div class="col-sm-7">
                            <div class="shipAddress">
                            <span>National Store</span>
                            <span>Street 1</span>
                            <span>Shipping Address 1</span>
                            <span>New South Wales</span>
                            <span>Australia 2150</span>
                            <span>4125611</span>
                            <span>testuser@officenat.com</span>
                          </div>
                          </div>
                      </div>
                      <div class="row">
                        <div class="col-sm-5"><label>Ship as Complete</label></div>
                        <div class="col-sm-7"><span>Yes</span></div>
                    </div>
                    <div class="row">
                        <div class="col-sm-5"><label>Shipping Method</label></div>
                        <div class="col-sm-7"><span>Courier</span></div>
                    </div>
                    <div class="row">
                        <div class="col-sm-5"><label>Purchase Order Number</label></div>
                        <div class="col-sm-7"><span>18734561</span></div>
                    </div> 
                  </div>
                  </div>
                </div>
              </div>
            </div>
      </div>
    </div>
  </div>
</div>
